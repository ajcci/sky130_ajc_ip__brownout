<HTML>
<BODY>
<H1> CACE 4.0 datasheet </H1>


<HR>

<FONT size=+1><B>sky130_ajc_ip__brownout</B></FONT>


<HR>

<I> Brown-out detector </I><BR><BR>
<TABLE border="1" frame="box" rules="none" width="40%" cellspacing="0"
	cellpadding="2" bgcolor="#ffffdd">
<TBODY>
<TR>
<TD> PDK:
<TD> sky130A
</TR>
</TBODY>
</TABLE>
<BR>

<TABLE border="1" frame="box" rules="none" width="40%" cellspacing="0"
	cellpadding="2" bgcolor="#ffffdd">
<TBODY>
<TR>
<TD> Designer:
<TD> Robin Matthew Tsang
</TR>
<TR>
<TD> Company:
<TD> Ajacci, Ltd. Co.
</TR>
<TR>
<TD> Created:
<TD> March 19, 2024
</TR>
<TR>
<TD> Last modified:
<TD> April 15, 2024 at 09:14am
</TR>
<TR>
<TD> License:
<TD> Apache 2.0
</TR>
</TBODY>
</TABLE>
<H2> Pin names and descriptions </H2>

<BLOCKQUOTE>
   <CENTER>
      <IMG SRC=sky130_ajc_ip__brownout_sym.svg WIDTH=30%>
      <BR>
      <I>Project schematic symbol</I>
      <BR>
   </CENTER>
</BLOCKQUOTE>

<TABLE border="1" frame="box" rules="all" width="80%" cellspacing="0"
	cellpadding="2" bgcolor="#eeeeff">
<TBODY>
<TR>
<TD> <I>pin name</I><TD> <I>description</I><TD> <I>type</I><TD> <I>direction</I><TD> <I>Vmin</I><TD> <I>Vmax</I><TD> <I>notes</I></TR>
<TR>
<TD>
</TR>
<TR>
<TD> <B>vbg_1v2</B>
<TD> Bandgap reference 1.20V
<TD> signal
<TD> input
<TD> 1.15
<TD> 1.25
<TD> 
</TR>
<TR>
<TD> <B>otrip2:0</B>
<TD> Digital trip voltage select for brown-out detector
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>vtrip2:0</B>
<TD> Digital trip voltage select for under-voltage detector
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>ena</B>
<TD> Enable input (active high)
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>isrc_sel</B>
<TD> Internal(0)/external(1) bias current select
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>force_ena_rc_osc</B>
<TD> Force internal rc-oscillator to turn on, test-mode
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>force_dis_rc_osc</B>
<TD> Force internal rc-oscillator to turn off, test-mode
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>force_short_oneshot</B>
<TD> Force one-shot timeout period to be very short, test-mode
<TD> digital
<TD> input
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>ibg_200n</B>
<TD> External 200n bandgap reference current
<TD> signal
<TD> input
<TD> avss - 0.3
<TD> avdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>out</B>
<TD> Brown-out alarm (active low)
<TD> digital
<TD> output
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>vunder</B>
<TD> Under-voltage alarm (active low)
<TD> digital
<TD> output
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>itest</B>
<TD> Test current, send to external 1Mohm resistor if desired
<TD> signal
<TD> output
<TD> avss - 0.3
<TD> avdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>dvdd</B>
<TD> Positive digital power supply
<TD> power
<TD> inout
<TD> 1.5
<TD> 2.1
<TD> 
</TR>
<TR>
<TD> <B>dvss</B>
<TD> Digital ground
<TD> ground
<TD> inout
<TD> -0.3
<TD> 0.3
<TD> 
</TR>
<TR>
<TD> <B>avdd</B>
<TD> Positive analog power supply
<TD> power
<TD> inout
<TD> 3.0
<TD> 6.0
<TD> 
</TR>
<TR>
<TD> <B>avss</B>
<TD> Analog ground
<TD> ground
<TD> inout
<TD> -0.3
<TD> 0.3
<TD> 
</TR>
<TR>
<TD> <B>brout_filt</B>
<TD> Filtered analog comparator output of brown-out detector, test-mode
<TD> digital
<TD> output
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>osc_ck</B>
<TD> RC oscillator output
<TD> digital
<TD> output
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>vin_brout</B>
<TD> Analog input to comparator of brown-out detector
<TD> signal
<TD> output
<TD> avss - 0.3
<TD> avdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>vin_vunder</B>
<TD> Analog input to comparator of under-voltage detector
<TD> signal
<TD> output
<TD> avss - 0.3
<TD> avdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>timed_out</B>
<TD> Asserts high when one-shot timer expires after brown-out event recovers
<TD> digital
<TD> output
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
<TR>
<TD> <B>dcomp</B>
<TD> Unfiltered analog comparator output of brown-out detector, test-mode
<TD> digital
<TD> output
<TD> dvss - 0.3
<TD> dvdd + 0.3
<TD> 
</TR>
</TBODY>
</TABLE>
<H2> Default conditions </H2>
<TABLE border="1" frame="box" rules="all" width="80%" cellspacing="0"
	cellpadding="2" bgcolor="#ddeeff">
<TBODY>
<TR>
<TD> <I>name</I><TD> <I>description</I><TD> <I>unit</I><TD> <I>minimum</I><TD> <I>typical</I><TD> <I>maximum</I><TD> <I>notes</I></TR>
<TR>
<TD>
</TR>
<TR>
<TD> <B>dvdd</B>
<TD> Digital power supply voltage
<TD> V
<TD> 
<TD> 1.8
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>dvss</B>
<TD> Digital ground
<TD> V
<TD> 
<TD> 0
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>avdd</B>
<TD> Analog power supply voltage
<TD> V
<TD> 
<TD> 3.3
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>avss</B>
<TD> Analog ground
<TD> V
<TD> 
<TD> 0
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>cload</B>
<TD> Output load capatitance
<TD> pF
<TD> 
<TD> 
<TD> 20
<TD> 
</TR>
<TR>
<TD> <B>ena</B>
<TD> Overvoltage detector enable
<TD> 
<TD> 
<TD> 1
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>isrc_sel</B>
<TD> Internal(0)/external(1) bias current select
<TD> 
<TD> 
<TD> 0
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>force_ena_rc_osc</B>
<TD> Force internal rc-oscillator to turn on, test-mode
<TD> 
<TD> 
<TD> 0
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>force_dis_rc_osc</B>
<TD> Force internal rc-oscillator to turn on, test-mode
<TD> 
<TD> 
<TD> 0
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>force_short_oneshot</B>
<TD> Force one-shot timeout period to be very short, test-mode
<TD> 
<TD> 
<TD> 0
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>otrip[2:0]</B>
<TD> Brown-out trip voltage digital input value
<TD> 
<TD> 
<TD> 100
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>vtrip[2:0]</B>
<TD> Under-voltage trip voltage digital input value
<TD> 
<TD> 
<TD> 100
<TD> 
<TD> 
</TR>
<TR>
<TD> <B>Temp</B>
<TD> Ambient temperature
<TD> °C
<TD> -40
<TD> 27
<TD> 130
<TD> 
</TR>
<TR>
<TD> <B>Corner</B>
<TD> Process corner
<TD> 
<TD> ss
<TD> tt
<TD> ff
<TD> 
</TR>
</TBODY>
</TABLE>
<H2> Electrical parameters </H2>
<TABLE border="1" frame="box" rules="all" width="80%" cellspacing="0"
	cellpadding="2" bgcolor="#ddffff">
<TBODY>
<TR>
<TD> <I>name</I><TD> <I>description</I><TD> <I>unit</I><TD> <I>minimum</I><TD> <I>typical</I><TD> <I>maximum</I><TD> <I>notes</I></TR>
<TR>
<TD>
</TR>
<TR>
<TD> <B>Hysteresis (out)</B>
<TD> Check amount of hysteresis at each trip voltage
<TD> V
<TD> 0.1155
<TD> 0.1617
<TD> 0.2083
<TD> 
</TR>
<TR>
<TD> <B>Accuracy (out)</B>
<TD> Check absolute accuracy of trip voltages (avg of pos- and neg-ramp trip voltages)
<TD> V
<TD> 0.00024
<TD> 0.000525
<TD> 0.00076
<TD> 
</TR>
<TR>
<TD> <B>Hysteresis (vunder)</B>
<TD> Check amount of hysteresis at each trip voltage
<TD> V
<TD> 0.1161
<TD> 0.1621
<TD> 0.2084
<TD> 
</TR>
<TR>
<TD> <B>Accuracy (vunder)</B>
<TD> Check absolute accuracy of trip voltages (avg of pos- and neg-ramp trip voltages)
<TD> V
<TD> 0.000375
<TD> 0.00063
<TD> 0.00081
<TD> 
</TR>
<TR>
<TD> <B>Response time (out)</B>
<TD> Check time-delay between step in avdd to out assertion (otrip=2.71V)
<TD> µs
<TD> 22.75
<TD> 31.69
<TD> 47.63
<TD> 
</TR>
<TR>
<TD> <B>Response time (vunder)</B>
<TD> Check time-delay between step in avdd to vunder assertion (vtrip=2.71V)
<TD> µs
<TD> 2.004
<TD> 2.004
<TD> 2.441
<TD> 
</TR>
<TR>
<TD> <B>Reset active time (est.)</B>
<TD> Estimate reset active time by check rc oscillator period across 10 cycles, then multiplying by 4096.
<TD> ms
<TD> 81.55
<TD> 112.3
<TD> 189.9
<TD> 
</TR>
<TR>
<TD> <B>Idd</B>
<TD> Current draw through analog supply, brown-out detector enabled
<TD> µA
<TD> 6.106
<TD> 6.379
<TD> 6.524
<TD> 
</TR>
<TR>
<TD> <B>Standby current</B>
<TD> Current draw through analog supply, brown-out detector disabled
<TD> µA
<TD> 0.0007993
<TD> 0.001324
<TD> 0.03171
<TD> 
</TR>
</TBODY>
</TABLE>
<BR><I>Note:</I> Values taken from Schematic captured<BR>
</BODY>
</HTML>

<BLOCKQUOTE>
   <CENTER>
      <IMG SRC=../plots/schematic/supply_brown_out.png>
      <BR>
      <I>Demo of a supply brown-out with test-mode force_short_oneshot enabled.</I>
      <BR>
      (Values taken from schematic extraction)
   </CENTER>
</BLOCKQUOTE>

